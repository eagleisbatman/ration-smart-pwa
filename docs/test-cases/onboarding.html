<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>04 — Onboarding Test Cases</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=IBM+Plex+Sans:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
    <link rel="stylesheet" href="../shared.css">
</head>
<body>
    <nav class="sidebar">
        <div class="sidebar-brand"><i data-lucide="beef" class="icon"></i> RationSmart</div>
        <div class="sidebar-subtitle">Test Cases &middot; 14 Pages</div>
        <h3>Overview</h3>
        <a href="index.html"><span class="nav-num">00</span> Overview &amp; Glossary</a>
        <h3>Authentication</h3>
        <a href="registration.html"><span class="nav-num">01</span> Registration (8)</a>
        <a href="login.html"><span class="nav-num">02</span> Login (10)</a>
        <a href="forgot-pin.html"><span class="nav-num">03</span> Forgot PIN (5)</a>
        <a href="onboarding.html" class="active"><span class="nav-num">04</span> Onboarding (12)</a>
        <h3>Core Features</h3>
        <a href="dashboard.html"><span class="nav-num">05</span> Dashboard (8)</a>
        <a href="cow-management.html"><span class="nav-num">06</span> Cow Management (13)</a>
        <a href="diet-optimization.html"><span class="nav-num">07</span> Diet Optimization (17)</a>
        <a href="feeds.html"><span class="nav-num">08</span> Feeds (7)</a>
        <a href="milk-logging.html"><span class="nav-num">09</span> Milk Logging (8)</a>
        <a href="farmer-management.html"><span class="nav-num">10</span> Farmer Mgmt (10)</a>
        <a href="yield-reporting.html"><span class="nav-num">11</span> Yield Reporting (7)</a>
        <h3>Settings &amp; Platform</h3>
        <a href="settings.html"><span class="nav-num">12</span> Settings (10)</a>
        <a href="navigation-pwa.html"><span class="nav-num">13</span> Navigation &amp; PWA (12)</a>
    </nav>
    <main class="main">
        <div class="page-title">04 &mdash; Onboarding Test Cases</div>
        <div class="page-route">Module: Onboarding &middot; Routes: /auth/language, /auth/role, /auth/organization, /auth/profile-setup &middot; 12 Test Cases</div>

        <p>Onboarding is the 4-step setup process after registration: Language &rarr; Role &rarr; Organization &rarr; Profile. These tests cover each step and the flow between them.</p>

        <!-- ══════════════════════════════════════════════════════════ -->
        <!-- Step 1 — Language Selection                              -->
        <!-- ══════════════════════════════════════════════════════════ -->
        <h2>Step 1 — Language Selection</h2>

        <!-- TC-ONB-01 -->
        <div class="tc critical">
            <div class="tc-header">
                <span class="tc-id">TC-ONB-01</span>
                <span class="tc-title">Language Selection &mdash; 22 Options Available</span>
                <span class="tc-priority">Critical</span>
            </div>
            <div class="tc-body">
                <h4>Preconditions</h4>
                <div class="tc-pre">Just registered, redirected to /auth/language.</div>

                <h4>Steps</h4>
                <ol class="tc-steps">
                    <li>Verify page shows "Step 1 of 4"</li>
                    <li>Count available language options</li>
                    <li>Verify English, Hindi, Bengali, Telugu are present</li>
                    <li>Select Hindi</li>
                </ol>

                <h4>Expected Result</h4>
                <div class="tc-expected">22 language cards displayed, text-only labels (no flag emoji/images), Hindi card highlighted.</div>

                <h4>Acceptance Criteria</h4>
                <ul class="tc-checks">
                    <li>All 22 languages visible</li>
                    <li>No broken emoji/boxes</li>
                    <li>Text shows native script (e.g., हिन्दी for Hindi)</li>
                    <li>Selected language highlighted</li>
                    <li>Next button enabled</li>
                </ul>
            </div>
        </div>

        <!-- TC-ONB-02 -->
        <div class="tc high">
            <div class="tc-header">
                <span class="tc-id">TC-ONB-02</span>
                <span class="tc-title">Language Changes UI Immediately</span>
                <span class="tc-priority">High</span>
            </div>
            <div class="tc-body">
                <h4>Preconditions</h4>
                <div class="tc-pre">On language selection page.</div>

                <h4>Steps</h4>
                <ol class="tc-steps">
                    <li>Select "Hindi"</li>
                    <li>Observe if any visible text on the page changes language</li>
                    <li>Tap Next</li>
                    <li>Observe next page is in Hindi</li>
                </ol>

                <h4>Expected Result</h4>
                <div class="tc-expected">UI text changes to Hindi immediately upon selection. Subsequent pages show Hindi text.</div>

                <h4>Acceptance Criteria</h4>
                <ul class="tc-checks">
                    <li>Next button label changes to Hindi equivalent</li>
                    <li>Step indicator updates</li>
                    <li>Role page shows Hindi text</li>
                </ul>
            </div>
        </div>

        <!-- ══════════════════════════════════════════════════════════ -->
        <!-- Step 2 — Role Selection                                  -->
        <!-- ══════════════════════════════════════════════════════════ -->
        <h2>Step 2 — Role Selection</h2>

        <!-- TC-ONB-03 -->
        <div class="tc critical">
            <div class="tc-header">
                <span class="tc-id">TC-ONB-03</span>
                <span class="tc-title">Role Selection &mdash; 7 Roles Available</span>
                <span class="tc-priority">Critical</span>
            </div>
            <div class="tc-body">
                <h4>Preconditions</h4>
                <div class="tc-pre">Language selected, on /auth/role.</div>

                <h4>Steps</h4>
                <ol class="tc-steps">
                    <li>Verify "Step 2 of 4"</li>
                    <li>Verify 7 role cards visible</li>
                    <li>Verify each has title and description</li>
                    <li>Select "Farmer"</li>
                </ol>

                <h4>Expected Result</h4>
                <div class="tc-expected">7 roles displayed: Farmer, Student, Nutritionist, Extension Worker, Researcher, Feed Supplier, Other. Each with description text (except Other).</div>

                <h4>Acceptance Criteria</h4>
                <ul class="tc-checks">
                    <li>All 7 roles visible</li>
                    <li>Descriptions shown below each role name</li>
                    <li>Farmer card highlighted when selected</li>
                    <li>Next button enabled</li>
                </ul>
            </div>
        </div>

        <!-- ══════════════════════════════════════════════════════════ -->
        <!-- Step 3 — Organization Selection                          -->
        <!-- ══════════════════════════════════════════════════════════ -->
        <h2>Step 3 — Organization Selection</h2>

        <!-- TC-ONB-04 -->
        <div class="tc high">
            <div class="tc-header">
                <span class="tc-id">TC-ONB-04</span>
                <span class="tc-title">Organization Selection with Search</span>
                <span class="tc-priority">High</span>
            </div>
            <div class="tc-body">
                <h4>Preconditions</h4>
                <div class="tc-pre">Role selected, on /auth/organization.</div>

                <h4>Steps</h4>
                <ol class="tc-steps">
                    <li>Verify "Step 3 of 4"</li>
                    <li>Type "Digital" in search box</li>
                    <li>Verify filtered results</li>
                    <li>Select "Digital Green"</li>
                </ol>

                <h4>Expected Result</h4>
                <div class="tc-expected">Organization list filters as user types. "Digital Green" shown with organization type label.</div>

                <h4>Acceptance Criteria</h4>
                <ul class="tc-checks">
                    <li>Search filters in real-time</li>
                    <li>Org type labels visible (NGO, Government, etc.)</li>
                    <li>Selected org highlighted</li>
                </ul>
            </div>
        </div>

        <!-- TC-ONB-05 -->
        <div class="tc high">
            <div class="tc-header">
                <span class="tc-id">TC-ONB-05</span>
                <span class="tc-title">"Not Affiliated" Option Works</span>
                <span class="tc-priority">High</span>
            </div>
            <div class="tc-body">
                <h4>Preconditions</h4>
                <div class="tc-pre">On /auth/organization.</div>

                <h4>Steps</h4>
                <ol class="tc-steps">
                    <li>Tap "Not Affiliated &mdash; I work independently" option</li>
                    <li>Tap Next</li>
                </ol>

                <h4>Expected Result</h4>
                <div class="tc-expected">"Not Affiliated" selected, proceeds to profile setup without organization.</div>

                <h4>Acceptance Criteria</h4>
                <ul class="tc-checks">
                    <li>Not Affiliated option selectable</li>
                    <li>Next button works</li>
                    <li>No organization saved</li>
                </ul>
            </div>
        </div>

        <!-- ══════════════════════════════════════════════════════════ -->
        <!-- Step 4 — Profile Setup                                   -->
        <!-- ══════════════════════════════════════════════════════════ -->
        <h2>Step 4 — Profile Setup</h2>

        <!-- TC-ONB-06 -->
        <div class="tc critical">
            <div class="tc-header">
                <span class="tc-id">TC-ONB-06</span>
                <span class="tc-title">Profile Setup with Manual Location</span>
                <span class="tc-priority">Critical</span>
            </div>
            <div class="tc-body">
                <h4>Preconditions</h4>
                <div class="tc-pre">Organization selected, on /auth/profile-setup.</div>

                <h4>Steps</h4>
                <ol class="tc-steps">
                    <li>Verify "Step 4 of 4"</li>
                    <li>Verify name is pre-filled from registration</li>
                    <li>Enter phone number (optional)</li>
                    <li>Manually type Village: "Hastinapur", District: "Agra", State: "Uttar Pradesh"</li>
                    <li>Tap Done</li>
                </ol>

                <h4>Expected Result</h4>
                <div class="tc-expected">Profile created, redirected to Home Dashboard (/).</div>

                <h4>Acceptance Criteria</h4>
                <ul class="tc-checks">
                    <li>Name pre-filled correctly</li>
                    <li>Location fields accept text input</li>
                    <li>Done button submits</li>
                    <li>Redirected to /</li>
                    <li>Dashboard loads</li>
                </ul>
            </div>
        </div>

        <!-- TC-ONB-07 -->
        <div class="tc high">
            <div class="tc-header">
                <span class="tc-id">TC-ONB-07</span>
                <span class="tc-title">Profile Setup with GPS Location</span>
                <span class="tc-priority">High</span>
            </div>
            <div class="tc-body">
                <h4>Preconditions</h4>
                <div class="tc-pre">On /auth/profile-setup. Browser location permission allowed.</div>

                <h4>Steps</h4>
                <ol class="tc-steps">
                    <li>Tap "Share My Location" button</li>
                    <li>Allow browser location prompt</li>
                    <li>Wait for GPS coordinates</li>
                    <li>Verify State/District/Village auto-filled</li>
                </ol>

                <h4>Expected Result</h4>
                <div class="tc-expected">GPS coordinates captured, location fields auto-filled via reverse geocoding.</div>

                <h4>Acceptance Criteria</h4>
                <ul class="tc-checks">
                    <li>GPS button shows loading state</li>
                    <li>Coordinates displayed (e.g., "GPS: 28.6139, 77.2090")</li>
                    <li>State/District/Village fields populated</li>
                    <li>Fields are editable after auto-fill</li>
                </ul>
            </div>
        </div>

        <!-- TC-ONB-08 -->
        <div class="tc medium">
            <div class="tc-header">
                <span class="tc-id">TC-ONB-08</span>
                <span class="tc-title">GPS Failure Shows Retry</span>
                <span class="tc-priority">Medium</span>
            </div>
            <div class="tc-body">
                <h4>Preconditions</h4>
                <div class="tc-pre">On /auth/profile-setup. Block browser location permission.</div>

                <h4>Steps</h4>
                <ol class="tc-steps">
                    <li>Tap "Share My Location"</li>
                    <li>Deny browser location prompt</li>
                    <li>Observe error</li>
                </ol>

                <h4>Expected Result</h4>
                <div class="tc-expected">Warning banner: "Could not get your location" with Retry button. User can enter location manually.</div>

                <h4>Acceptance Criteria</h4>
                <ul class="tc-checks">
                    <li>Warning/error message visible</li>
                    <li>Retry button available</li>
                    <li>Manual input fields still work</li>
                    <li>Done button still works with manual entry</li>
                </ul>
            </div>
        </div>

        <!-- ══════════════════════════════════════════════════════════ -->
        <!-- Flow & Navigation                                        -->
        <!-- ══════════════════════════════════════════════════════════ -->
        <h2>Flow &amp; Navigation</h2>

        <!-- TC-ONB-09 -->
        <div class="tc high">
            <div class="tc-header">
                <span class="tc-id">TC-ONB-09</span>
                <span class="tc-title">Back Navigation Preserves Selections</span>
                <span class="tc-priority">High</span>
            </div>
            <div class="tc-body">
                <h4>Preconditions</h4>
                <div class="tc-pre">Completed steps 1-3 (language, role, org selected).</div>

                <h4>Steps</h4>
                <ol class="tc-steps">
                    <li>On step 4 (profile), tap Back</li>
                    <li>Verify step 3 shows previously selected organization</li>
                    <li>On step 3, tap Back</li>
                    <li>Verify step 2 shows previously selected role</li>
                    <li>On step 2, tap Back</li>
                    <li>Verify step 1 (language) loads &mdash; note: Step 1 has no back button; navigation to it is via browser history</li>
                    <li>Verify step 1 shows previously selected language</li>
                </ol>

                <h4>Expected Result</h4>
                <div class="tc-expected">Steps 4&rarr;3, 3&rarr;2, and 2&rarr;1 preserve selections. Step 1 (Language Selection) has no back button &mdash; it is the first page in the onboarding flow.</div>

                <h4>Acceptance Criteria</h4>
                <ul class="tc-checks">
                    <li>Back button present on steps 2, 3, and 4 only</li>
                    <li>Step 1 (language) has NO back button</li>
                    <li>Language still selected on step 1 when navigated back via step 2</li>
                    <li>Role still selected on step 2</li>
                    <li>Organization still selected on step 3</li>
                    <li>No need to re-select anything</li>
                </ul>
            </div>
        </div>

        <!-- TC-ONB-10 -->
        <div class="tc critical">
            <div class="tc-header">
                <span class="tc-id">TC-ONB-10</span>
                <span class="tc-title">Complete Onboarding Redirects to Home</span>
                <span class="tc-priority">Critical</span>
            </div>
            <div class="tc-body">
                <h4>Preconditions</h4>
                <div class="tc-pre">All 4 steps filled correctly.</div>

                <h4>Steps</h4>
                <ol class="tc-steps">
                    <li>On step 4, tap "Done"</li>
                    <li>Observe redirect</li>
                </ol>

                <h4>Expected Result</h4>
                <div class="tc-expected">Profile created, redirected to Home Dashboard (/). Dashboard shows greeting with user's name.</div>

                <h4>Acceptance Criteria</h4>
                <ul class="tc-checks">
                    <li>URL changes to /</li>
                    <li>Dashboard loads</li>
                    <li>Greeting shows correct name</li>
                    <li>Onboarding does not trigger again on next login</li>
                </ul>
            </div>
        </div>

        <!-- TC-ONB-11 -->
        <div class="tc high">
            <div class="tc-header">
                <span class="tc-id">TC-ONB-11</span>
                <span class="tc-title">Incomplete Onboarding &mdash; Login Redirects Back</span>
                <span class="tc-priority">High</span>
            </div>
            <div class="tc-body">
                <h4>Preconditions</h4>
                <div class="tc-pre">User registered but closed browser BEFORE completing onboarding (e.g., quit after step 2).</div>

                <h4>Steps</h4>
                <ol class="tc-steps">
                    <li>Open app</li>
                    <li>Login with credentials</li>
                    <li>Observe redirect</li>
                </ol>

                <h4>Expected Result</h4>
                <div class="tc-expected">Redirected to /auth/language (onboarding restarts from beginning or continues where left off).</div>

                <h4>Acceptance Criteria</h4>
                <ul class="tc-checks">
                    <li>Does NOT redirect to dashboard</li>
                    <li>Onboarding page loads</li>
                    <li>User must complete onboarding before accessing main app</li>
                </ul>
            </div>
        </div>

        <!-- TC-ONB-12 -->
        <div class="tc medium">
            <div class="tc-header">
                <span class="tc-id">TC-ONB-12</span>
                <span class="tc-title">Onboarding Data Persists Across Page Refresh</span>
                <span class="tc-priority">Medium</span>
            </div>
            <div class="tc-body">
                <h4>Preconditions</h4>
                <div class="tc-pre">On step 2, role selected.</div>

                <h4>Steps</h4>
                <ol class="tc-steps">
                    <li>Select "Extension Worker" role</li>
                    <li>Refresh the page (F5/Cmd+R)</li>
                    <li>Check if the page reloads at the same step</li>
                </ol>

                <h4>Expected Result</h4>
                <div class="tc-expected">After refresh, the selection is preserved (stored in localStorage with 24h TTL).</div>

                <h4>Acceptance Criteria</h4>
                <ul class="tc-checks">
                    <li>Page reloads at same step</li>
                    <li>Previous selection still visible (or navigable)</li>
                    <li>Data not lost on refresh</li>
                    <li>Data expires after 24 hours</li>
                </ul>
            </div>
        </div>

    </main>
    <script>lucide.createIcons();</script>
</body>
</html>
