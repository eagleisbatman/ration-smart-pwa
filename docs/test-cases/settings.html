<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RationSmart Tests - Settings</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=IBM+Plex+Sans:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
    <link rel="stylesheet" href="../shared.css">
</head>
<body>
    <nav class="sidebar">
        <div class="sidebar-brand"><i data-lucide="beef" class="icon"></i> RationSmart</div>
        <div class="sidebar-subtitle">Test Cases &middot; 14 Pages</div>
        <h3>Overview</h3>
        <a href="index.html"><span class="nav-num">00</span> Overview &amp; Glossary</a>
        <h3>Authentication</h3>
        <a href="registration.html"><span class="nav-num">01</span> Registration (8)</a>
        <a href="login.html"><span class="nav-num">02</span> Login (10)</a>
        <a href="forgot-pin.html"><span class="nav-num">03</span> Forgot PIN (5)</a>
        <a href="onboarding.html"><span class="nav-num">04</span> Onboarding (12)</a>
        <h3>Core Features</h3>
        <a href="dashboard.html"><span class="nav-num">05</span> Dashboard (8)</a>
        <a href="cow-management.html"><span class="nav-num">06</span> Cow Management (13)</a>
        <a href="diet-optimization.html"><span class="nav-num">07</span> Diet Optimization (17)</a>
        <a href="feeds.html"><span class="nav-num">08</span> Feeds (7)</a>
        <a href="milk-logging.html"><span class="nav-num">09</span> Milk Logging (8)</a>
        <a href="farmer-management.html"><span class="nav-num">10</span> Farmer Mgmt (10)</a>
        <a href="yield-reporting.html"><span class="nav-num">11</span> Yield Reporting (7)</a>
        <h3>Settings &amp; Platform</h3>
        <a href="settings.html" class="active"><span class="nav-num">12</span> Settings (10)</a>
        <a href="navigation-pwa.html"><span class="nav-num">13</span> Navigation &amp; PWA (12)</a>
    </nav>
    <main class="main">

        <div class="page-title">12 &mdash; Settings Test Cases</div>
        <div class="page-route">Module: Settings &middot; Route: /settings &middot; 10 Test Cases</div>

        <!-- ════════════════════════════════════════════════════ -->
        <!-- TC-SET-01 -->
        <!-- ════════════════════════════════════════════════════ -->
        <div class="tc high">
            <div class="tc-header">
                <span class="tc-id">TC-SET-01</span>
                <span class="tc-title">View Settings Page with All Sections</span>
                <span class="tc-priority">High</span>
            </div>
            <div class="tc-body">
                <h4>Preconditions</h4>
                <div class="tc-pre">
                    User is logged in and onboarding is complete. The app is in a normal authenticated state with access to all features.
                </div>

                <h4>Steps</h4>
                <ol class="tc-steps">
                    <li>Locate the bottom navigation bar. Tap the <strong>More</strong> or <strong>Settings</strong> tab (the last item in the bottom nav).</li>
                    <li>Wait for the settings page to fully load. Scroll through the entire page from top to bottom, observing each section.</li>
                    <li>Verify the <strong>Profile Card</strong> section is visible at the top, displaying the user's name, email or phone number, and role badge.</li>
                    <li>Verify the <strong>Preferences</strong> section is present with three items: <strong>Language</strong>, <strong>Role</strong>, and <strong>Organization</strong>.</li>
                    <li>Verify the <strong>App Settings</strong> section is present with two items: a <strong>Push Notifications</strong> toggle and an <strong>Install App</strong> button.</li>
                    <li>Verify the <strong>Data &amp; Sync</strong> section is present with three items: <strong>Sync Status</strong> (showing pending count), <strong>Sync History</strong>, and <strong>Clear Data</strong>.</li>
                    <li>Verify the <strong>About</strong> section is present with three items: <strong>App Version</strong>, <strong>Help</strong>, and <strong>Privacy Policy</strong>.</li>
                    <li>Verify a <strong>Logout</strong> button is visible at the bottom of the page.</li>
                </ol>

                <h4>Expected Result</h4>
                <div class="tc-expected">
                    The settings page displays all six sections in order: Profile Card (name, email/phone, role), Preferences (Language, Role, Organization), App Settings (Push Notifications toggle, Install App button), Data &amp; Sync (Sync Status with pending count, Sync History, Clear Data), About (App Version, Help, Privacy Policy), and a Logout button at the bottom. All sections are clearly separated and all items are tappable/interactive.
                </div>

                <h4>Acceptance Criteria</h4>
                <ul class="tc-checks">
                    <li>Profile card shows user name, email or phone, and role badge</li>
                    <li>Preferences section contains Language, Role, and Organization items</li>
                    <li>App Settings section contains Push Notifications toggle and Install App button</li>
                    <li>Data &amp; Sync section contains Sync Status, Sync History, and Clear Data items</li>
                    <li>About section contains App Version, Help, and Privacy Policy items</li>
                    <li>Logout button is visible and tappable at the bottom of the page</li>
                </ul>
            </div>
        </div>

        <!-- ════════════════════════════════════════════════════ -->
        <!-- TC-SET-02 -->
        <!-- ════════════════════════════════════════════════════ -->
        <div class="tc high">
            <div class="tc-header">
                <span class="tc-id">TC-SET-02</span>
                <span class="tc-title">Change Language &mdash; UI Updates Immediately</span>
                <span class="tc-priority">High</span>
            </div>
            <div class="tc-body">
                <h4>Preconditions</h4>
                <div class="tc-pre">
                    User is on the settings page. The current language is set to English (or any known language).
                </div>

                <h4>Steps</h4>
                <ol class="tc-steps">
                    <li>Tap the <strong>Language</strong> item in the Preferences section.</li>
                    <li>Verify a dialog opens displaying all <strong>22 languages</strong> with their native labels. Scroll through the entire list and confirm the following languages are present: English, Hindi &#x0939;&#x093F;&#x0928;&#x094D;&#x0926;&#x0940;, Bengali &#x09AC;&#x09BE;&#x0982;&#x09B2;&#x09BE;, Telugu &#x0C24;&#x0C46;&#x0C32;&#x0C41;&#x0C17;&#x0C41;, Marathi &#x092E;&#x0930;&#x093E;&#x0920;&#x0940;, Tamil &#x0BA4;&#x0BAE;&#x0BBF;&#x0BB4;&#x0BCD;, Gujarati &#x0A97;&#x0AC1;&#x0A9C;&#x0AB0;&#x0ABE;&#x0AA4;&#x0AC0;, Kannada &#x0C95;&#x0CA8;&#x0CCD;&#x0CA8;&#x0CA1;, Malayalam &#x0D2E;&#x0D32;&#x0D2F;&#x0D3E;&#x0D33;&#x0D02;, Odia &#x0B13;&#x0B21;&#x0B3C;&#x0B3F;&#x0B06;, Punjabi &#x0A2A;&#x0A70;&#x0A1C;&#x0A3E;&#x0A2C;&#x0A40;, Assamese &#x0985;&#x09B8;&#x09AE;&#x09C0;&#x09AF;&#x09BC;&#x09BE;, Urdu &#x0627;&#x0631;&#x062F;&#x0648;, Nepali &#x0928;&#x0947;&#x092A;&#x093E;&#x0932;&#x0940;, Vietnamese Ti&#x1EBF;ng Vi&#x1EC7;t, Amharic &#x12A0;&#x121B;&#x122D;&#x129B;, Oromo, Indonesian, Filipino, Thai &#x0E44;&#x0E17;&#x0E22;, Arabic &#x0627;&#x0644;&#x0639;&#x0631;&#x0628;&#x064A;&#x0629;, and Fran&#x00E7;ais.</li>
                    <li>Select a different language from the current one (e.g., select <strong>Hindi</strong> if the current language is English).</li>
                    <li>Tap the <strong>Confirm</strong> button (or equivalent action) to apply the selection.</li>
                    <li>Observe the entire UI for language changes. Check the bottom navigation labels, section headers, button labels, and all visible text on the settings page.</li>
                </ol>

                <h4>Expected Result</h4>
                <div class="tc-expected">
                    The language selection dialog shows all 22 languages with their native script labels. After selecting a different language and confirming, the entire UI switches to the chosen language immediately without requiring a page reload. All labels, headers, buttons, and navigation items display in the new language. The preference is saved to the backend so it persists across sessions.
                </div>

                <h4>Acceptance Criteria</h4>
                <ul class="tc-checks">
                    <li>Dialog displays all 22 languages with native script labels</li>
                    <li>Currently active language is visually highlighted in the list</li>
                    <li>After confirmation, the entire UI updates to the selected language immediately</li>
                    <li>Bottom navigation labels switch to the new language</li>
                    <li>Settings page section headers and item labels switch to the new language</li>
                    <li>Language preference is saved to the backend and persists after app restart</li>
                </ul>
            </div>
        </div>

        <!-- ════════════════════════════════════════════════════ -->
        <!-- TC-SET-03 -->
        <!-- ════════════════════════════════════════════════════ -->
        <div class="tc high">
            <div class="tc-header">
                <span class="tc-id">TC-SET-03</span>
                <span class="tc-title">Change Role &mdash; Saved to Backend</span>
                <span class="tc-priority">High</span>
            </div>
            <div class="tc-body">
                <h4>Preconditions</h4>
                <div class="tc-pre">
                    User is on the settings page. The current role is known (e.g., Farmer).
                </div>

                <h4>Steps</h4>
                <ol class="tc-steps">
                    <li>Tap the <strong>Role</strong> item in the Preferences section.</li>
                    <li>Verify a dialog opens showing all <strong>6 role options</strong>: Farmer, Extension Worker, Nutritionist, Researcher, Feed Supplier, and Other. Each role should display an icon and a brief description of the role.</li>
                    <li>Select a different role from the current one (e.g., select <strong>Extension Worker</strong> if the current role is Farmer).</li>
                    <li>Tap the <strong>Confirm</strong> button to apply the selection.</li>
                    <li>Observe the profile card at the top of the settings page. Verify the role badge updates to reflect the newly selected role.</li>
                    <li>Navigate to the bottom navigation bar. Check whether the visible tabs have changed based on the new role (e.g., the Farmers tab may appear or disappear depending on the role).</li>
                </ol>

                <h4>Expected Result</h4>
                <div class="tc-expected">
                    The role selection dialog displays all 6 roles, each with an icon and description. After selecting a different role and confirming, the role badge on the profile card updates immediately. The role change affects which features and tabs are visible in the app (e.g., the Farmers tab visibility changes based on role). The change is saved to the backend.
                </div>

                <h4>Acceptance Criteria</h4>
                <ul class="tc-checks">
                    <li>Dialog displays all 6 roles: Farmer, Extension Worker, Nutritionist, Researcher, Feed Supplier, Other</li>
                    <li>Each role shows an icon and description</li>
                    <li>Currently active role is visually highlighted in the list</li>
                    <li>After confirmation, the role badge on the profile card updates immediately</li>
                    <li>Tab visibility in the bottom navigation changes based on the selected role</li>
                    <li>Role change is saved to the backend and persists after app restart</li>
                </ul>
            </div>
        </div>

        <!-- ════════════════════════════════════════════════════ -->
        <!-- TC-SET-04 -->
        <!-- ════════════════════════════════════════════════════ -->
        <div class="tc high">
            <div class="tc-header">
                <span class="tc-id">TC-SET-04</span>
                <span class="tc-title">Change Organization &mdash; Saved to Backend</span>
                <span class="tc-priority">High</span>
            </div>
            <div class="tc-body">
                <h4>Preconditions</h4>
                <div class="tc-pre">
                    User is on the settings page. The current organization is known or set to "Not Affiliated."
                </div>

                <h4>Steps</h4>
                <ol class="tc-steps">
                    <li>Tap the <strong>Organization</strong> item in the Preferences section.</li>
                    <li>Verify a dialog opens with a search field and a list of available organizations.</li>
                    <li>Type a partial organization name into the search field (e.g., <code>Digital</code>). Verify the list filters to show only matching organizations.</li>
                    <li>Clear the search field. Verify the <strong>"Not Affiliated"</strong> option is always visible in the list regardless of the search query.</li>
                    <li>Select a new organization from the list (or select "Not Affiliated").</li>
                    <li>Tap the <strong>Confirm</strong> button to apply the selection.</li>
                    <li>Observe the settings page. Verify the organization name updates to reflect the new selection.</li>
                </ol>

                <h4>Expected Result</h4>
                <div class="tc-expected">
                    The organization dialog opens with a searchable list of organizations. The search field filters the list in real-time as the user types. The "Not Affiliated" option is always available. After selecting a new organization and confirming, the organization name on the settings page updates immediately. The change is saved to the backend.
                </div>

                <h4>Acceptance Criteria</h4>
                <ul class="tc-checks">
                    <li>Organization dialog opens with a search field and list of organizations</li>
                    <li>Search filters the organization list in real-time</li>
                    <li>"Not Affiliated" option is always visible regardless of search query</li>
                    <li>After confirmation, the organization name updates on the settings page</li>
                    <li>Organization change is saved to the backend and persists after app restart</li>
                </ul>
            </div>
        </div>

        <!-- ════════════════════════════════════════════════════ -->
        <!-- TC-SET-05 -->
        <!-- ════════════════════════════════════════════════════ -->
        <div class="tc medium">
            <div class="tc-header">
                <span class="tc-id">TC-SET-05</span>
                <span class="tc-title">Push Notifications Toggle</span>
                <span class="tc-priority">Medium</span>
            </div>
            <div class="tc-body">
                <h4>Preconditions</h4>
                <div class="tc-pre">
                    User is on the settings page. Push notifications are currently disabled (toggle is OFF). The browser supports the Notification API.
                </div>

                <h4>Steps</h4>
                <ol class="tc-steps">
                    <li>Locate the <strong>Push Notifications</strong> toggle in the App Settings section. Verify it is currently in the OFF position.</li>
                    <li>Tap the toggle to switch it <strong>ON</strong>. Observe the browser's behavior.</li>
                    <li>The browser should display a native notification permission prompt (e.g., "example.com wants to send you notifications &mdash; Allow / Block"). Tap <strong>Allow</strong> to grant permission.</li>
                    <li>Verify the toggle stays in the ON position after granting permission.</li>
                    <li>Now tap the toggle again to switch it <strong>OFF</strong>.</li>
                    <li>Verify push notifications are disabled and the toggle moves to the OFF position.</li>
                </ol>

                <h4>Expected Result</h4>
                <div class="tc-expected">
                    When toggled ON, the browser requests notification permission via the native permission prompt. If the user grants permission, the toggle stays ON and push notifications are enabled. If the user denies permission, the toggle reverts to OFF and a message appears explaining how to enable notifications in browser settings. Toggling OFF disables push notifications without any additional prompts.
                </div>

                <h4>Acceptance Criteria</h4>
                <ul class="tc-checks">
                    <li>Toggling ON triggers the browser's native notification permission prompt</li>
                    <li>If permission is granted, the toggle stays ON</li>
                    <li>If permission is denied, the toggle reverts to OFF with an explanatory message</li>
                    <li>Toggling OFF disables push notifications immediately</li>
                    <li>Notification preference is persisted and reflected correctly on page reload</li>
                </ul>
            </div>
        </div>

        <!-- ════════════════════════════════════════════════════ -->
        <!-- TC-SET-06 -->
        <!-- ════════════════════════════════════════════════════ -->
        <div class="tc medium">
            <div class="tc-header">
                <span class="tc-id">TC-SET-06</span>
                <span class="tc-title">Install App (PWA Add to Home Screen)</span>
                <span class="tc-priority">Medium</span>
            </div>
            <div class="tc-body">
                <h4>Preconditions</h4>
                <div class="tc-pre">
                    User is on the settings page. The app is being accessed via a supported browser (Chrome, Edge, or Safari). The app has not yet been installed as a PWA on the device. The browser's <code>beforeinstallprompt</code> event has been captured.
                </div>

                <h4>Steps</h4>
                <ol class="tc-steps">
                    <li>Locate the <strong>Install App</strong> button in the App Settings section. Verify it is visible and tappable.</li>
                    <li>Tap the <strong>Install App</strong> button.</li>
                    <li>The browser's native install prompt should appear (e.g., "Add RationSmart to Home screen?" on Chrome, or the share sheet on Safari). Follow the browser's install flow to complete the installation.</li>
                    <li>After installation completes, return to the settings page. Observe whether the Install App button has changed state.</li>
                    <li>Navigate to the device's home screen. Verify that the RationSmart app icon has been added.</li>
                    <li>Launch the app from the home screen icon. Verify it opens as a standalone PWA (no browser address bar or navigation chrome).</li>
                </ol>

                <h4>Expected Result</h4>
                <div class="tc-expected">
                    Tapping the Install App button triggers the browser's native PWA install prompt. After successful installation, the app icon appears on the device's home screen. The Install App button changes to "App Installed" or is hidden. When launched from the home screen, the app runs as a standalone PWA without browser chrome (no address bar, no browser navigation buttons).
                </div>

                <h4>Acceptance Criteria</h4>
                <ul class="tc-checks">
                    <li>Install App button triggers the browser's native install prompt</li>
                    <li>After installation, the app icon appears on the device home screen</li>
                    <li>The Install App button changes to "App Installed" or disappears after installation</li>
                    <li>App launches as standalone PWA without browser chrome</li>
                    <li>If the app is already installed, the button reflects the installed state on page load</li>
                </ul>
            </div>
        </div>

        <!-- ════════════════════════════════════════════════════ -->
        <!-- TC-SET-07 -->
        <!-- ════════════════════════════════════════════════════ -->
        <div class="tc high">
            <div class="tc-header">
                <span class="tc-id">TC-SET-07</span>
                <span class="tc-title">Manual Sync Triggers Data Sync</span>
                <span class="tc-priority">High</span>
            </div>
            <div class="tc-body">
                <h4>Preconditions</h4>
                <div class="tc-pre">
                    Some data has been created while the device was offline (e.g., new cows added, milk logs recorded). The Sync Status section shows a pending count greater than zero. The device is now back online with a stable network connection.
                </div>

                <h4>Steps</h4>
                <ol class="tc-steps">
                    <li>Verify the device has a stable internet connection (Wi-Fi or mobile data active).</li>
                    <li>Navigate to the settings page. Locate the <strong>Sync Status</strong> item in the Data &amp; Sync section. Note the current pending count (e.g., "3 items pending").</li>
                    <li>Tap the <strong>Sync Status</strong> section or the <strong>Sync Now</strong> button within it.</li>
                    <li>Observe the sync indicator. A loading spinner or progress indicator should appear, showing that the sync is in progress.</li>
                    <li>Wait for the sync to complete. Observe the pending count as it decreases.</li>
                    <li>After the sync completes, verify the pending count has reached <strong>0</strong> and a success message is displayed.</li>
                </ol>

                <h4>Expected Result</h4>
                <div class="tc-expected">
                    Tapping the Sync Now button initiates a data sync with the backend. A sync progress indicator is displayed during the process. The pending item count decreases as items are synced. Upon completion, the pending count reaches 0, a success message is shown (e.g., "All data synced" or a toast notification), and all offline data has been uploaded to the backend.
                </div>

                <h4>Acceptance Criteria</h4>
                <ul class="tc-checks">
                    <li>Sync Now button triggers a data sync operation</li>
                    <li>A progress indicator is visible during the sync</li>
                    <li>Pending count decreases and reaches 0 upon completion</li>
                    <li>A success message or toast notification is shown after sync completes</li>
                    <li>All previously offline data is uploaded to the backend</li>
                    <li>If sync fails (e.g., network drops), an error message is shown and pending count remains unchanged</li>
                </ul>
            </div>
        </div>

        <!-- ════════════════════════════════════════════════════ -->
        <!-- TC-SET-08 -->
        <!-- ════════════════════════════════════════════════════ -->
        <div class="tc high">
            <div class="tc-header">
                <span class="tc-id">TC-SET-08</span>
                <span class="tc-title">Clear Data &mdash; Confirmation &mdash; Clears Local Cache</span>
                <span class="tc-priority">High</span>
            </div>
            <div class="tc-body">
                <h4>Preconditions</h4>
                <div class="tc-pre">
                    User is on the settings page. Some cached data exists locally (e.g., previously fetched cow data, feed data, or other resources stored in the browser's local storage or IndexedDB).
                </div>

                <h4>Steps</h4>
                <ol class="tc-steps">
                    <li>Tap the <strong>Clear Data</strong> item in the Data &amp; Sync section.</li>
                    <li>A confirmation dialog should appear with the message: <strong>"This will clear all locally cached data. Your account and synced data are safe."</strong> Verify the dialog requires an explicit action to proceed (i.e., you must tap Confirm or Cancel).</li>
                    <li>Tap <strong>Cancel</strong> first. Verify the dialog closes and no data is cleared.</li>
                    <li>Tap <strong>Clear Data</strong> again to reopen the confirmation dialog.</li>
                    <li>This time, tap <strong>Confirm</strong> to proceed with clearing the data.</li>
                    <li>Observe the app behavior after confirmation. The app should reload and fetch fresh data from the backend.</li>
                    <li>Verify the user remains logged in after the data clear (authentication tokens are preserved).</li>
                </ol>

                <h4>Expected Result</h4>
                <div class="tc-expected">
                    Tapping Clear Data opens a confirmation dialog that clearly explains what will happen ("This will clear all locally cached data. Your account and synced data are safe."). The dialog requires explicit user action to proceed. After confirming, all locally cached data is cleared. The app reloads and fetches fresh data from the backend. The user remains logged in &mdash; authentication tokens are not affected.
                </div>

                <h4>Acceptance Criteria</h4>
                <ul class="tc-checks">
                    <li>Confirmation dialog appears with a clear explanation of the action</li>
                    <li>Cancel button dismisses the dialog without clearing any data</li>
                    <li>Confirm button clears all locally cached data (localStorage, IndexedDB, etc.)</li>
                    <li>App reloads and fetches fresh data from the backend after clearing</li>
                    <li>User remains logged in after the data clear (auth tokens preserved)</li>
                    <li>No unsynced data is lost without warning (if pending items exist, a separate warning should appear)</li>
                </ul>
            </div>
        </div>

        <!-- ════════════════════════════════════════════════════ -->
        <!-- TC-SET-09 -->
        <!-- ════════════════════════════════════════════════════ -->
        <div class="tc critical">
            <div class="tc-header">
                <span class="tc-id">TC-SET-09</span>
                <span class="tc-title">Logout &mdash; Confirmation &mdash; Redirects to Login</span>
                <span class="tc-priority">Critical</span>
            </div>
            <div class="tc-body">
                <h4>Preconditions</h4>
                <div class="tc-pre">
                    User is logged in and on the settings page (or any authenticated page). The browser developer tools are open to the <strong>Application</strong> tab (Storage section) to observe token removal.
                </div>

                <h4>Steps</h4>
                <ol class="tc-steps">
                    <li>Scroll to the bottom of the settings page. Locate the <strong>Logout</strong> button.</li>
                    <li>Tap the <strong>Logout</strong> button.</li>
                    <li>A confirmation dialog should appear with the message: <strong>"Are you sure you want to log out?"</strong> Verify the dialog has both a Confirm and Cancel option.</li>
                    <li>Tap <strong>Cancel</strong> first. Verify the dialog closes and the user remains on the settings page, still logged in.</li>
                    <li>Tap the <strong>Logout</strong> button again and this time tap <strong>Confirm</strong>.</li>
                    <li>Observe the browser's address bar. Verify the URL changes to <code>/auth/login</code>.</li>
                    <li>In the browser developer tools Application tab, check that authentication tokens (e.g., JWT in localStorage or cookies) have been removed.</li>
                    <li>Attempt to navigate to a protected route (e.g., <code>/dashboard</code>) by typing the URL directly in the address bar. Verify the app redirects back to <code>/auth/login</code>.</li>
                </ol>

                <h4>Expected Result</h4>
                <div class="tc-expected">
                    Tapping Logout opens a confirmation dialog: "Are you sure you want to log out?" After confirming, all authentication tokens are cleared from browser storage, local data is cleared, and the user is redirected to <code>/auth/login</code>. Attempting to navigate to any protected route without logging in again results in a redirect back to the login page.
                </div>

                <h4>Acceptance Criteria</h4>
                <ul class="tc-checks">
                    <li>Confirmation dialog appears with "Are you sure you want to log out?"</li>
                    <li>Cancel dismisses the dialog and keeps the user logged in</li>
                    <li>Confirm clears all auth tokens from localStorage/cookies</li>
                    <li>Confirm clears local data from the device</li>
                    <li>User is redirected to <code>/auth/login</code> after logout</li>
                    <li>Protected routes are inaccessible without logging in again</li>
                    <li>Browser back button does not return to authenticated pages after logout</li>
                </ul>
            </div>
        </div>

        <!-- ════════════════════════════════════════════════════ -->
        <!-- TC-SET-10 -->
        <!-- ════════════════════════════════════════════════════ -->
        <div class="tc medium">
            <div class="tc-header">
                <span class="tc-id">TC-SET-10</span>
                <span class="tc-title">View Sync History Drawer</span>
                <span class="tc-priority">Medium</span>
            </div>
            <div class="tc-body">
                <h4>Preconditions</h4>
                <div class="tc-pre">
                    User is on the settings page. Data has been synced at least once previously (there is at least one sync event in the history).
                </div>

                <h4>Steps</h4>
                <ol class="tc-steps">
                    <li>Locate the <strong>Sync History</strong> item in the Data &amp; Sync section of the settings page.</li>
                    <li>Tap <strong>Sync History</strong>.</li>
                    <li>A drawer or panel should slide open displaying the list of recent sync events.</li>
                    <li>For each sync event entry, verify it shows: the <strong>timestamp</strong> of when the sync occurred, the <strong>number of items synced</strong> (count), and the <strong>status</strong> (success or failed).</li>
                    <li>Verify the list is sorted with the <strong>most recent sync event at the top</strong>.</li>
                    <li>Verify the <strong>last sync time</strong> is displayed prominently (e.g., at the top of the drawer or as a header).</li>
                    <li>Close the drawer by tapping outside it, swiping it closed, or tapping a close button.</li>
                </ol>

                <h4>Expected Result</h4>
                <div class="tc-expected">
                    Tapping Sync History opens a drawer or panel showing a chronological list of recent sync events. Each entry displays the timestamp, the count of items synced, and the status (success or failed). The list is ordered with the most recent sync at the top. The last sync time is displayed prominently. The drawer can be closed by standard dismissal gestures.
                </div>

                <h4>Acceptance Criteria</h4>
                <ul class="tc-checks">
                    <li>Sync History opens a drawer or panel when tapped</li>
                    <li>Each sync event shows timestamp, items synced count, and status</li>
                    <li>Sync events are sorted with the most recent at the top</li>
                    <li>Last sync time is displayed prominently</li>
                    <li>Failed sync events are visually distinct from successful ones (e.g., red text or icon)</li>
                    <li>Drawer can be dismissed by tapping outside, swiping, or a close button</li>
                </ul>
            </div>
        </div>

    </main>
    <script>lucide.createIcons();</script>
</body>
</html>
