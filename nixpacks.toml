# Nixpacks configuration for Railway deployment
# Quasar PWA static site

[phases.setup]
nixPkgs = ["nodejs_20"]
aptPkgs = ["unzip"]

[phases.install]
cmds = ["curl -fsSL https://bun.sh/install | BUN_INSTALL=/usr/local bash && bun install"]

[phases.build]
cmds = ["bun run build"]

[start]
# Serve static PWA files with SPA fallback for Vue Router history mode
cmd = "npx serve dist/pwa -l ${PORT:-3000} -s"
